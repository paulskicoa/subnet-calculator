<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
	<meta charset="utf-8" />
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=K2D" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="style.css">
	<script src="svg-injector.min.js"></script>
	<script>
	   // Elements to inject
   	   var mySVGsToInject = document.querySelectorAll('.iconic-sprite');

       // Do the injection
       SVGInjector(mySVGsToInject);

	</script>
	<title>Subnet Calculator (beta)</title>
</head>
<body id="bootstrap-overrides">
	<img src="open-iconic.svg" class="iconic-sprite" style="display:none;" />
	<div class="jumbotron jumbotron-fluid">
	<div class="container">
		<div id="button-and-headline">
		<div class="arrow-box" id="arrow-box-back" style="display:none;" onclick="transitionBackward();">
			<svg viewBox="0 0 8 8" class="icon">
				<use xlink:href="open-iconic.svg#arrow-circle-left" class="icon-arrow-circle-left" id="back-arrow"></use>
			</svg>
		</div>
    	<h1 class="display-4">Subnetting Made Easy</h1>
    	</div>
	    <p class="lead" id="header-message">Tired of doing tedious networking calculations by hand? Want to know the Network IDs and IP addresses for a range of subnets? Then this tool is for you! Enter an IP with a CIDR value for classless addressing, or for a Class A, B, or C network, enter just the IP, and the CIDR will be automatically calculated. Say how many subnets you want from a network, and this tool will divide your address space evenly, so you'll have at least that many subnets. Easy!</p>
  	</div>
	</div>
	<div class="card-deck" id="card-deck-id">
		  <div class="card bg-light mb-3" style="max-width: 18rem;">
			  <div class="card-header">Your Input</div>
			  <div class="card-body scroll">
				    <ul class="list-group list-group-flush" id="input-summary">
					</ul>
			   </div>
			  </div>
		  <div class="card bg-light mb-3" style="max-width: 18rem;">
			  <div class="card-header">Networks</div>
			  <div class="card-body scroll">
				    <ul class="list-group list-group-flush" id="network-id-list">
					</ul>
			   </div>
			  </div>
			<div class="card bg-light mb-3" style="max-width: 18rem;">
			  <div class="card-header">Address Ranges</div>
			  <div class="card-body scroll">
				    <ul class="list-group list-group-flush" id="address-range-list">
					</ul>
			   </div>
			  </div>
			<div class="card bg-light mb-3" style="max-width: 18rem;">
			  <div class="card-header">Statistics</div>
			  <div class="card-body scroll">
			     <ul class="list-group list-group-flush" id="statistics">
				 </ul>
			   </div>
			</div>
	</div>	
	<div class="container-2" id="container-2-id">
		<div class="input-group" id="input-group-1">
		  <div class="input-group-prepend">
		    <span class="input-group-text" id="ip-and-cidr-group">IP/CIDR</span>
		  </div>
		  <input type="text" aria-label="ipAddress" class="form-control" placeholder="e.g. 192.168.1.5/24 or 192.42.53.12" id="ipAndCidr">
		</div>
		<div class="input-group" id="input-group-2">
		  <div class="input-group-prepend">
		    <span class="input-group-text" id="num-networks-group">Subnets</span>
		  </div>
		  <input type="text" aria-label="subnets" class="form-control" placeholder="Optional. The number of subnets to create. Defaults to 0." id="numSubnets">
		</div>
		<div class="arrow-box" id="arrow-box-forward" onclick="getReturnCode(ipAndCidr.value, numSubnets.value);">
		<svg viewBox="0 0 8 8" class="icon">
			<use xlink:href="open-iconic.svg#arrow-circle-right" class="icon-arrow-circle-right" id="forward-arrow"></use>
		</svg>
	</div>
	</div>
	<div class="author-info" id="authorInfo">
		<p>An open-source webapp by Paul Skittlethorp.<a href="https://github.com/paulskicoa/subnet-calculator" target="_blank"> See this project on Github.</a></p>
	</div>
	<!-- Modal -->
	<div class="modal fade" id="invalidInputModal" tabindex="-1" role="dialog" aria-labelledby="invalidInputModalTitle" aria-hidden="true">
	  <div class="modal-dialog modal-dialog-centered" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h5 class="modal-title" id="invalidInputModalTitle">Invalid Input</h5>
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	          <span aria-hidden="true">&times;</span>
	        </button>
	      </div>
	      <div class="modal-body">
	        One or more values you entered are invalid. The IP and CIDR should look like X.X.X.X(/Y), where X is a whole number between 0 and 255 and Y (optional) is a whole number between 0 and 32. The number of subnets must be a whole number greater than or equal to 1.
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
	      </div>
	    </div>
	  </div>
	</div>
	
	<script type="text/javascript" src="calculator.js"></script>
	<script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

	<!-- set enter key event listener on input fields -->
	<script type="text/javascript">
		var ipAndCidrInput = document.getElementById("ipAndCidr");
		ipAndCidrInput.addEventListener("keyup", function(event) {
			event.preventDefault();
			if(event.keyCode === 13) { // enter was pressed
				document.getElementById('arrow-box-forward').click();
			}
		});

		var subnetsInput = document.getElementById("ipAndCidr");
		subnetsInput.addEventListener("keyup", function(event) {
			event.preventDefault();
			if(event.keyCode === 13) { // enter was pressed
				document.getElementById('arrow-box-forward').click();
			}
		});
	</script>
	<script type="text/javascript">
		$( document ).ready(function() {
			$('#card-deck-id').hide();
			$('#arrow-box-forward').click(function() {
				$('#container-2-id').fadeOut(300);
				$('#arrow-box-forward').fadeOut(300);
				$('#authorInfo').fadeOut(300);
				document.getElementById('header-message').innerHTML = "Here are the results. Click the back button to edit your input and recalculate.";
	    		$('#card-deck-id').delay(400).fadeIn(300);
	    		$('#arrow-box-back').delay(400).fadeIn(300);
			});

			$('#arrow-box-back').click(function() {
				clearResults();
				$('#card-deck-id').fadeOut(300);
	    		$('#container-2-id').delay(400).fadeIn(300);
	    		$('#arrow-box-back').fadeOut(300);
	    		$('#arrow-box-forward').delay(400).fadeIn(300);
	    		$('#authorInfo').delay(400).fadeIn(300);
	    		document.getElementById('header-message').innerHTML = "Tired of doing tedious networking calculations by hand? Want to know the Network IDs and IP addresses for a range of subnets? Then this tool is for you! Enter an IP with a CIDR value for classless addressing, or for a Class A, B, or C network, enter just the IP, and the CIDR will be automatically calculated. Say how many subnets you want from a network, and this tool will divide your address space evenly, so you'll have at least that many subnets. Easy!";
			});
    	});
	</script>
</body>
</html>